# Contoso.tech E-Learning Platform - 系统架构设计

## 概述

本文档描述了 Contoso.tech 企业在线培训平台 MVP 版本的系统架构设计。该平台采用前后端分离的架构，为企业提供完整的在线学习解决方案。

## 系统架构

### 整体架构
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Web Browser   │◄───│   CDN/Nginx     │◄───│   Vue.js 3.x    │
│                 │    │                 │    │   Frontend      │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                                        │
                                                        │ HTTP/REST API
                                                        ▼
                              ┌─────────────────────────────────────┐
                              │        Load Balancer               │
                              └─────────────────────────────────────┘
                                              │
                                              ▼
                              ┌─────────────────────────────────────┐
                              │      Spring Boot Application       │
                              │         (Java Backend)              │
                              └─────────────────────────────────────┘
                                              │
                                              ▼
                              ┌─────────────────────────────────────┐
                              │       Database Layer               │
                              │     (MySQL/PostgreSQL)             │
                              └─────────────────────────────────────┘
```

### 技术栈

#### 前端技术栈
- **框架**: Vue.js 3.x
- **构建工具**: Vite
- **UI组件库**: Element Plus / Ant Design Vue
- **状态管理**: Pinia
- **路由**: Vue Router 4
- **HTTP客户端**: Axios
- **样式**: SCSS/CSS3
- **类型检查**: TypeScript (可选)

#### 后端技术栈
- **语言**: Java 17+
- **框架**: Spring Boot 3.x
- **安全**: Spring Security
- **数据访问**: Spring Data JPA
- **数据库**: MySQL 8.0 / PostgreSQL 14+
- **文档**: OpenAPI 3.0 (Swagger)
- **构建工具**: Maven / Gradle

#### 基础设施
- **Web服务器**: Nginx
- **应用服务器**: Embedded Tomcat (Spring Boot)
- **数据库**: MySQL/PostgreSQL
- **缓存**: Redis (Phase 2)
- **文件存储**: 本地存储 / 云存储 (Phase 2)

## 系统模块划分

### 用户管理模块 (User Management)
- 用户注册与登录
- 角色权限管理
- 个人资料管理
- 密码重置

### 课程管理模块 (Course Management)
- 课程创建与编辑
- 课程分类管理
- 课程内容管理
- 课程发布状态管理

### 学习模块 (Learning Module)
- 课程浏览
- 学习进度跟踪
- 课程完成标记
- 学习记录

### 系统管理模块 (System Management)
- 系统配置
- 用户管理
- 数据统计 (基础版本)

## 数据流

### 用户认证流程
```
用户登录 → 前端验证 → 后端验证 → 生成JWT Token → 返回用户信息 → 前端存储Token
```

### 课程学习流程
```
选择课程 → 验证权限 → 加载课程内容 → 记录学习进度 → 更新完成状态
```

## 安全设计

### 身份认证
- JWT Token 认证
- 密码加密存储 (BCrypt)
- 登录失败限制

### 权限控制
- 基于角色的访问控制 (RBAC)
- 接口级权限验证
- 前端路由权限控制

### 数据安全
- 输入数据验证
- SQL注入防护
- XSS攻击防护
- CSRF防护

## 性能考虑

### 前端优化
- 组件懒加载
- 图片懒加载
- 代码分割
- 静态资源压缩

### 后端优化
- 数据库连接池
- 查询优化
- 分页查询
- 响应数据压缩

## 部署架构

### 开发环境
```
本地开发 → Git仓库 → 本地测试环境
```

### 生产环境
```
代码提交 → CI/CD → 测试环境 → 生产环境部署
```

## 扩展性设计

### 水平扩展
- 无状态应用设计
- 负载均衡支持
- 数据库读写分离 (Phase 2)

### 功能扩展
- 模块化设计
- 插件化架构预留
- API版本控制

## 监控与日志

### 应用监控
- 系统性能监控
- 错误日志收集
- 用户行为追踪

### 日志管理
- 结构化日志
- 日志级别控制
- 日志轮转策略